import{_ as e,o as t,c as i,e as l}from"./app-ab31641a.js";const d={},a=l(`<h1 id="静态路由命令" tabindex="-1"><a class="header-anchor" href="#静态路由命令" aria-hidden="true">#</a> 静态路由命令</h1><h2 id="ip-route" tabindex="-1"><a class="header-anchor" href="#ip-route" aria-hidden="true">#</a> <code>ip route</code></h2><ul><li>命令： <ul><li><code>ip route {&lt;ip-prefix&gt; &lt;mask&gt; | &lt;ip-prefix&gt;/&lt;prefix-length&gt;} {&lt;gateway-address&gt; |</code></li><li><code>&lt;gateway-interface&gt;} [&lt;distance&gt;]</code></li><li><code>no ip route {&lt;ip-prefix&gt; &lt;mask&gt; | &lt;ip-prefix&gt;/&lt;prefix-length&gt;} [&lt;gateway-address&gt; |</code></li><li><code>&lt;gateway-interface&gt;] [&lt;distance&gt;]</code></li></ul></li><li>功能：配置静态路由；本命令的no 操作为删除静态路由。</li><li>参数：<code>&lt;ip-prefix&gt;</code>和<code>&lt;mask&gt;</code>分别为目的 IP 地址和子网掩码，点分十进制格式；<code>&lt;ip-prefix&gt;</code>和<code>&lt;prefix-length&gt;</code>分别为目的 IP 地址和前缀长度；<code>&lt;gateway-address&gt;</code>为下一跳的 IP 地址，点分十进制格式；<code>&lt;gateway-interface&gt;</code>为下一跳接口，<code>&lt; distance &gt;</code>为路由管理距离值，取值范围为 1～255</li><li>缺省情况：静态路由缺省管理距离值为 1</li><li>命令模式：全局配置模式</li><li>使用指南：在配置静态路由的下一跳时，可采用指定路由数据包发送下一跳 IP 地址或者出接口方式</li><li>神州数码三层交换机的各种路由类型缺省的 distance 值为： <table><thead><tr><th>路由类型</th><th>Distance 值</th></tr></thead><tbody><tr><td>直连路由</td><td>0</td></tr><tr><td>静态路由</td><td>1</td></tr><tr><td>OSPF</td><td>110</td></tr><tr><td>RIP</td><td>120</td></tr><tr><td>IBGP</td><td>200</td></tr><tr><td>EBGP</td><td>20</td></tr><tr><td>在不改变各种路由管理距离值的情况下，直连路由优先级最高，依次是静态路由、EBGP、OSPF、RIP、IBGP</td><td></td></tr></tbody></table></li><li>举例：<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>  例1．添加一条静态路由。
    Switch(config)#ip route 1.1.1.0 255.255.255.0 2.1.1.1
  例2．添加缺省路由。
    Switch(config)#ip route 0.0.0.0 0.0.0.0 2.2.2.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="ip-route-vrf" tabindex="-1"><a class="header-anchor" href="#ip-route-vrf" aria-hidden="true">#</a> <code>ip route vrf</code></h2><ul><li>命令： <ul><li><code>ip route vrf &lt;vrf-name&gt; {&lt;ip-prefix&gt; &lt;mask&gt;|&lt;ip-prefix/prefix-length&gt;}{&lt;gateway-address&gt;|null0} [&lt;1-255&gt;]</code></li><li><code>no ip route vrf &lt;vrf-name&gt; {&lt;ip-prefix&gt; &lt;mask&gt;|&lt;ip-prefix/prefix-length&gt;}{&lt;gateway-address&gt;|null0} [&lt;1-255&gt;]</code></li></ul></li><li>功能：为指定 VRF 配置静态路由。使用本命令前必须先配置成功 VPN 路由转发实例； no 命令删除已配置静态路由</li><li>参数： <ul><li><code>&lt;vrf-name&gt;</code>：指定的 VRF 名称；</li><li><code>&lt;ip-prefix&gt;</code>：为目的IP 地址；</li><li><code>&lt;mask&gt;</code>：子网掩码，点分十进制格式；</li><li><code>&lt;prefix-length&gt;</code>：前缀长度；</li><li><code>&lt;gateway-address&gt;</code>：下一条地址；</li><li><code>null0</code>：黑洞路由；</li><li><code>&lt;1-255&gt;</code>：管理距离</li></ul></li><li>缺省情况：默认不配置</li><li>命令模式：全局配置模式</li><li>举例：</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>   配置 VRF-A 的静态路由，目的 IP 为 10.1.1.10 ，掩码 24 位，下一跳为 10.1.1.1 
   管理距离默认：
     Switch(config)# ip route vrf VRF-A 10.1.1.10 255.255.255.0 10.1.1.1
     Switch(config)#
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="show-ip-route" tabindex="-1"><a class="header-anchor" href="#show-ip-route" aria-hidden="true">#</a> <code>show ip route</code></h2><ul><li><p>命令：</p><ul><li><code>show ip route [&lt;destination&gt;|&lt;destination &gt;/&lt;length&gt;|connected | static | rip| ospf | bgp |isis| kernel| statistics| database [connected | static | rip| ospf | bgp | isis| kernel] |fib [statistics]]</code></li></ul></li><li><p>功能：显示路由表</p></li><li><p>参数：<code>&lt;destination&gt;</code>为目标网络地址；<code>&lt;destination &gt;/&lt;length&gt;</code>为目标网络地址加上前缀长度； connected 为直连路由；static 为静态路由；rip 为 RIP 路由；ospf 为 OSPF 路由； bgp 为 BGP 路由； isis 为 ISIS 路由；kernel 为核心路由；statistics 显示路由条数；database 为路由数据库；fib 为核心路由表</p></li><li><p>命令模式： 所有模式</p></li><li><p>使用指南：显示路由表的内容，包括：路由类型、目的网络、掩码、下一跳地址、接口等</p></li><li><p>举例：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>switch#show ip route
  Codes: K - kernel, C - connected, S - static, R - RIP, B - BGP
    O - OSPF, IA - OSPF inter area
    N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
    E1 - OSPF external type 1, E2 - OSPF external type 2
    i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area
    * - candidate default
 Gateway of last resort is 210.0.0.3 to network 0.0.0.0
 S* 0.0.0.0/0 [1/0] via 210.0.0.3, Vlan1
 C 127.0.0.0/8 is directly connected, Loopback
 O IA 172.16.11.0/24 [110/40] via 210.14.0.1, Vlan3014, 00:00:47
 O IA 172.16.12.0/24 [110/40] via 210.14.0.1, Vlan3014, 00:00:47
 O IA 172.16.13.0/24 [110/40] via 210.14.0.1, Vlan3014, 00:00:47
 O IA 172.16.14.0/24 [110/40] via 210.14.0.1, Vlan3014, 00:00:47
 O IA 172.16.15.0/24 [110/50] via 210.14.0.1, Vlan3014, 00:00:47
 O E2 172.16.100.0/24 [110/0] via 210.14.0.1, Vlan3014, 00:00:46
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>显示信息</th><th>解释</th></tr></thead></table></li></ul><p>|C - connected|直连路由，即与三层交换机直接相连的网段| |S – static|静态路由，由用户手工配置的路由| |R - RIP derived RIP|路由，三层交换机通过 RIP 协议得到的| |O - OSPF derived OSPF|路由，三层交换机通过 OSPF 协议得到的| |A- OSPF ASE OSPF|引入的路由| |B- BGP derived BGP|路由，路由通过BGP 协议得到| |Destination|目标网络| |Mask|目标网络的掩码| |Nexthop|下一跳IP 地址| |Interface|下一跳经过的三层交换机接口| |Preference|路由的优先级，如果到达目标网络还有其它类型的路由，在核心路由表中只显示优先级高的路由信息|</p><h2 id="show-ip-route-vrf" tabindex="-1"><a class="header-anchor" href="#show-ip-route-vrf" aria-hidden="true">#</a> <code>show ip route vrf</code></h2><ul><li>命令： <ul><li><code>show ip route vrf &lt;name&gt; [connected | static | rip| ospf | bgp | isis| kernel|statistics|database[connected | static | rip| ospf | bgp | isis|kernel] ]</code></li><li><code>show ip route fib vrf &lt;name&gt; [default|main|local]</code></li></ul></li><li>功能：显示路由表</li><li>参数：<code>&lt;name&gt;</code> 是 VPN 路由转发实例的名称；<code>&lt;destination&gt;</code> 为目标网络地址；<code>&lt;destination &gt;/&lt;length&gt;</code>为目标网络地址加上前缀长度； connected 为直连路由；static 为静态路由；rip 为 RIP 路由； ospf 为 OSPF 路由； bgp 为 BGP 路由；isis 为 ISIS 路由； kernel 为核心路由；statistics 显示路由条数；database 为路由数据库；fib 为核心路由表。</li><li>命令模式：所有模式</li><li>使用指南：显示 VPN 路由表的内容，包括：路由类型、目的网络、掩码、下一跳地址、接口等</li></ul><h2 id="show-ip-route-fib" tabindex="-1"><a class="header-anchor" href="#show-ip-route-fib" aria-hidden="true">#</a> <code>show ip route fib</code></h2><ul><li>本型号交换机不支持该命令</li></ul>`,13),n=[a];function r(s,c){return t(),i("div",null,n)}const u=e(d,[["render",r],["__file","08-2_static-routing.html.vue"]]);export{u as default};
